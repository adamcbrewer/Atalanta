(function(e,t){e=e||{};Object.prototype.combine=function(e){for(var t in this)typeof e[t]=="undefined"&&(e[t]=this[t])};e.Run=function(e){e=e||{};var n={favourite:!1,name:"no name",activity:"",course:"",date:!1,duration:null,distance:null,elevationGain:null,averagePace:null,maxPace:null,calories:null},r=e.date?e.date.toString():"no date",i=t("<article>").addClass("run"),s=t("<div>").addClass("run-details"),o=t("<div>").addClass("marker"),u=t("<h1>").addClass("run-name").html(e.name),a=t("<span>").addClass("run-favourite").addClass(e.favourite).html(e.favourite=="true"?"&#9733;":"&#9734;"),f=t("<time>").addClass("run-date").html(r),l=t("<time>").addClass("run-duration").html(e.duration.seconds).attr("title",e.duration.raw);distanceNode=t("<span>").addClass("run-distance").html(e.distance),avgPaceNode=t("<time>").addClass("run-avgpace").html(e.averagePace),maxPaceNode=t("<time>").addClass("run-maxpace").html(e.maxPace),elevationGainNode=t("<span>").addClass("run-elevation-gain").html(e.elevationGain),caloriesNode=t("<span>").addClass("run-calories").html(e.calories);s.append(u,a,f,l,distanceNode,avgPaceNode,maxPaceNode,elevationGainNode,caloriesNode);i.append(o,s);this.el=i;return this};e.Grid=function(){var e,t={initTime:function(){var t=new Date,n=t.getTime();e=Math.ceil(n/1e3)},getTime:function(){return e}};t.initTime();return t};return e})(A,$);$(function(){var e="activities.all.csv",t=[],n,r=$("#data"),i=new Miso.Dataset({url:"/activities.all.csv",delimiter:";",columns:[{name:"favourite",type:"string",before:function(e){return e.trim()}},{name:"name",type:"string"},{name:"activity",type:"string"},{name:"course",type:"string"},{name:"date",type:"time",before:function(e){return moment(e)}},{name:"duration",type:"mixed",before:function(e){var t={raw:null,seconds:null};if(e){var n=e.split(":"),r=n.length,i=0;for(var s=0;s<r;s++)n[s]=parseInt(n[s],10);r===3?i=n[0]*60*60+n[1]*60+n[2]:i=n[0]*60+n[1];t.raw=e;t.seconds=i}return t}},{name:"distance",type:"number"},{name:"elevationGain",type:"number"},{name:"averagePace",type:"mixed"},{name:"maxPace",type:"mixed"},{name:"calories",type:"number",before:function(e){return e?parseInt(e.replace(/,/g,""),10):null}}]});i.fetch({success:function(){var e=this.rows(function(e){var t=new A.Run(e);r.append(t.el)});A.grid=new A.Grid;var t=A.grid.getTime();console.log(t)}})}());